#!/usr/bin/env Rscript

suppressMessages(library(dplyr))

source('modules/parse_data.R')
source('modules/plot_data.R')

# parse arguments
#args <- parseArgs()
args=list(data_dir='../data/task_orbit_sizes',
          plot_dir='../plots/task_orbit_sizes')

# read data
d <- readData(args$data_dir,
              c('board', 'k'))

# clean data
d <- d[d$board == 'haec',]
d$board <- NULL

d <- transform(d, k=as.numeric(k))
d$k <- factor(d$k)

d <- as.data.frame(d %>% group_by(size, k) %>% summarise(n=n()))

# create plots
cat("creating plots\n")

createHistogram(d,
                x='size', xlabel='$|T_A^{k,G}|$',
                y='n',
                z='k', zlabel='k',
                titles=list("HAEC Orbit Size Distributions"),
                plot_dir=args$plot_dir, plot_name='HAEC')
